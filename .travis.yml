language: java
jdk: oraclejdk8
dist: trusty
matrix:
  include:
  - os: linux
    jdk: oraclejdk8
    env:
    - PUBLISH_USER=xenit
    - SIGN_KEY_ID=CDE3528F
    - SIGN_SECRET_KEY_RINGFILE=secring_xenit.gpg
    before_install:
    - chmod +x ./gradlew
    - openssl aes-256-cbc -K $encrypted_3472f6e1405d_key -iv $encrypted_3472f6e1405d_iv
      -in secring_xenit.gpg.enc -out secring_xenit.gpg -d
    script:
    - "./gradlew check"
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
deploy:
  skip_cleanup: true
  provider: script
  on:
    branch: master
  script: "./gradlew publish"
  password:
    secure: Ez1Epde2eZA69UubIL0QyuwFQ/1EySnc4QtPwmMJ96JuCrF54NtS53lpzvz0R6DwLu/R6/5xazR5uT3uiuf+1X1lttmHW9A+2EtJxUrZB6gTp3LjNIzIKr+26adGEtIqRRzhYC9QlqvUQONgxXROl51pX7kC47vsyh03EzqLGciRMpl+4UHkRRBcTzymIqJLCQlUu5dSqitm999gBhnwxVos/Yvvwg+26YN9ZPky2ec/GW8IK42j/I+K4cQQFp5lBuRZaWvQZ+p3NCvWVcVaNc6/ZnqWbcKcJI7DigV+p1OfONMUoLV+zoLos2y+q+sLr/fapjEiTI+vhgZ5VRiDLCo+llEjKqTvRNj1T+aS3jIo7cRjTXlm2dqxgXEOgGITh7Yzz7TVjKA+4U2nwHvQ70hzabY6pUZdFgU0Ui92sylXilYDHwVYOSUDRO42Um4NL7bvj5fbmpSrghMhtJfLgsTTyrYFkkc3qKh/ThtKeBI5YYHVPM0DcQxCVQeND7fIynDmqB7jezignCt76Ozly18485DcX33oeurGpkQdzPnHndFKGqv8lSgY3YkamKeJl32FFO0ORngOooLf24aGAOBj7HnfDX7FUKZDaOtbgcIkDCbiUQIt4l+pTU/WeOYdPr++zMqlOq3Lomsgk8qu0fhvEnD7yZZPv5riRNY7Grw=
env:
  global:
  - secure: GqvBMdx5W4TQ83OuqX9ffAsjLc505N1ZZXORY6fNsomhM1PWo/igPWzDhvOask3GsEiBMH+LGEDAMbh8li/v23lalyhe5S02UFw5TunGpWNhJ7wHn0tKXeG9OG1Ly4ywfAWeXC3kR8U3N9nblefO8c7Jt/5wwEtRNQpEZrNBi78u3VdIi9EoPRzmf87+kYsm1NANhLoUYj2HUIPqvhJKzGOnUvxt2flwzcMNvadTNDc1bgrzPc90OmeCEhRezBMCDfBsVW31DXQdpIMT6JEVjQPg4i7BDTeahdtaYKcOG88JcQr/07zOLBLqax+hCoKmmXjydQPhkziBWZ9w+9e5MbiLwrpIKA7jGRXkykfB3SFyGa17m6jrat5oBw9rtlEWctizULinSKy3AJBqUVwf9y0JyyggNJi53DIcdzUPxnxu3ktxaH4KRloQTT0xSJ5ba5oi9POQAOxd6r6TMHYcBolJIfRbRGw4uV90igueiSaei4SMLHr1AJvpJMsUA0/R+hwZufwngq3SsGVnHuh3wwd3okMdKCYbwOpr4c0C3QNKycsjBaJnJgnTJTe8vGuJhxGpj19hHYS022sa8yHT/QOZQVoHwPZBg1AD+2lLh0d0Wcw5gcXt0cJQILlM0Ly+AyF168b78Yq101x5bNBz3kljdzd59SumANjMoKT7ui8=
  - secure: gkF3HQv8YoffcrZ+r3gbT3UK7MTh93fno7W2/8E8AZ8LSXiatP6URL2GaUei7zXi7vj7FuxMyu+FA+348KmGOlxHXLBrUzHV1QjYRjwpYygMbU/c861VBNk2J92Y4yRcJ4MuE/JNxJABqwu5SNt7IQuEB1DcILJyCeptZnWFDK658XYOuiDb5JaQ/oYeqm8mNX6SHKHYcI2BovN9oATd1pZrYt5mGCIInqiAEnnlTuEG9HYcKjgXP3EQgxSeWsgBjbSdpPsjOwVNL+OwjM0wanK3GhYlOB5vNGY4ZzmtcvgJ4ADVNJITKCHn4F9VT6Img3i2MAJLZdI0Ez3r/jWUmFb0P0R0Q41KDD1Jx5EETkbciXDcOYIq9XeIjCl8VOIWRaC3aGacfG3nn7L5i2/58Z6SwyIwGjrHGA3ygL6yy5AryFcusG63clFq3vQsthkUgNns6+X5WvmnC97Jt8Ab2Y0ZNeDYdA9eEBj2s21tdftbkpYwLDaFTROaXMbXvz7dyzxiZ1BW/e1sBPzvhGVo6NIhxkF76g1VqEngFxgQwlRwtNwR6DqExiVrF2+d48kQ8CGf0HBowcIC4gqNnKRJLSo/QyElZXJRaK8iM+HDJ442qZthm0Cl/IP/y6ioZbqmwHDjku7XV5twW2Cm8uUTn0/r8fFKCmZrglcvC6/CbiY=
